<!DOCTYPE html>
<html>
<head>
    <title>活动积分规则添加</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/bootstrap-responsive.css" />
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/style.css" />
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/jquery-ui.css" />
    <script type="text/javascript" src="__PUBLIC__/Js/jquery.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Js/bootstrap.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Js/ckform.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Js/common.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Js/jquery-ui-datepicker.js"></script>
    <style type="text/css">
        body {
            padding-bottom: 40px;
        }
        .sidebar-nav {
            padding: 9px 0;
        }

        @media (max-width: 980px) {
            /* Enable use of floated navbar text */
            .navbar-text.pull-right {
                float: none;
                padding-left: 5px;
                padding-right: 5px;
            }
        }

    </style>
</head>
<script type="text/javascript">
    $(function(){
        $('#startdate').datepicker();
        $('#enddate').datepicker();
        $("#ui-datepicker-div").hide();
    })
      function intOnly(obj){
        obj.value=obj.value.replace(/[^\d]/g,'');
    }
</script>
<body>
<div class="dv">
<form  method="post" id="form1">
<table class="table table-bordered table-hover definewidth m10">
    <tr>
        <td width="10%" class="tableleft">活动名称</td>
        <td><input type="text" name="activename" id="activename"/></td>
    </tr>
    <tr>
        <td class="tableleft">积分倍数</td>
        <td><input type="text" name="pointbs" id="pointbs" onkeyup="intOnly(this);"/></td>
    </tr>
    <tr>
        <td class="tableleft">起始时间</td>
        <td><input type="text" name="startdate" id="startdate" class="abc input-default"  /></td>
    </tr>
    <tr>
        <td class="tableleft">结束时间</td>
        <td>
            <input type="text" name="enddate" id="enddate" class="abc input-default" />
        </td>
    </tr>
     <tr>
         <td class="tableleft">所属商圈</td>
         <td>
             <select name="groupid" id="groupid">
                 <option value="">请选择</option>
                 <volist name="group" id="vo">
                     <option value="{$vo.groupid}">{$vo.groupname}</option>
                 </volist>
             </select>
         </td>
     </tr>
    <tr>
         <td class="tableleft">是否叠加</td>
         <td>
             <select name="flag" class="form-control">
                 <option value="Y">是</option>
                 <option value="N">否</option>
             </select>
         </td>
    </tr>
    <tr>
        <td class="tableleft"></td>
        <td colspan="5">
            <button type="submit" class="btn btn-primary" type="button">添加</button>&nbsp;&nbsp;
            <a type="button" class="btn btn-success" name="backid" id="backid" href="__URL__/activeRules">返回列表</a>
        </td>
    </tr>
</table>
</form>
</div>
<script type="text/javascript">
    $(function(){
        $('#form1').submit(function(){
            var activename= $.trim($('#activename').val());
            var pointbs= $.trim($('#pointbs').val());
            var groupid= $.trim($('#groupid').val());
            var startdate= $.trim($('#startdate').val());
            var enddate= $.trim($('#enddate').val());
            var start=new Date(startdate);
            var end=new Date(enddate);
            if(activename==''){
                alert('活动名称必填');
                return false;
            }
            if(pointbs==''){
                alert('积分倍数必填');
                return false;
            }
            if(startdate==''){
                alert('开始时间必填');
                return false;
            }
            if(enddate==''){
                alert('结束时间必填');
                return false;
            }
            if(start>end){
                alert('结束时间须不小于开始时间');
                return false;
            }
            if(groupid==''){
                alert('商圈必选');
                return false;
            }
        })
    })
</script>
</body>
</html>